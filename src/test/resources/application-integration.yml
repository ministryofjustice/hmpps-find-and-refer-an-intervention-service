server:
  shutdown: immediate

management.endpoint:
  health.cache.time-to-live: 0
  info.cache.time-to-live: 0

hmpps-auth:
  baseurl: "http://localhost:8093/auth"

find-and-refer-and-delius:
  locations:
    find-person: "/person/find/{identifier}"
  baseurl: "http://localhost:9092"

spring:
  jpa:
    properties:
      hibernate.enable_lazy_load_no_trans: true
  flyway:
    locations: classpath:db/migration,classpath:db/local
    clean-disabled: false

  security:
    oauth2:
      resourceserver:
        jwt:
          jwk-set-uri: ${hmpps-auth.baseurl}/.well-known/jwks.json
      client:
        provider:
          hmpps-auth:
            token-uri: ${hmpps-auth.baseurl}/oauth/token
            token-request:
              connect-timeout-ms: 500
              read-timeout-ms: 500
              retries: 3
              retry-delay-ms: 500
        registration:
          find-and-refer-interventions-client:
            provider: hmpps-auth
            authorization-grant-type: client_credentials
            scope: read,write
            client-id: interventions
            client-secret: clientsecret
